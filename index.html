<!DOCTYPE html>
<html lang="ar">
<head>
    <script src="https://fpyf8.com/88/tag.min.js" data-zone="174509" async data-cfasync="false"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>كرتون فور يو - الرئيسية</title>
<meta name="description" content="منصة كرتون فور يو لمشاهدة أفلام ومسلسلات الكرتون بجودة عالية. شاهد أفلام كونان وأنمي وأكشن وكوميديا بسهولة.">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body { 
    margin:0; 
    font-family: 'Tahoma', sans-serif; 
    background: linear-gradient(135deg, #0f0f0f, #1a1a1a, #202020); 
    color:white; 
    background-attachment: fixed;
    direction: rtl;     
    text-align: right;   
}
header { 
    background:linear-gradient(90deg,#e50914,#b0060f); 
    padding:40px 20px; 
    text-align:center; 
    box-shadow:0 4px 10px rgba(0,0,0,0.6);
    position: relative;
}
header h1 { 
    font-size:2.8em; 
    margin:0; 
    color:#fff; 
    letter-spacing:2px;
}
header p { 
    font-size:1.2em; 
    color:#f1f1f1; 
    margin-top:15px; 
}
nav {
    background: rgba(30, 30, 30, 0.95);
    padding: 15px 0;
    position: sticky;
    top: 0;
    z-index: 1001;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}
nav ul {
    display: flex;
    justify-content: center;
    list-style: none;
    padding: 0;
    margin: 0;
    flex-wrap: wrap;
}
nav ul li {
    margin: 0 15px;
}
nav ul li a {
    color: white;
    text-decoration: none;
    font-size: 1.1em;
    padding: 8px 16px;
    border-radius: 20px;
    transition: all 0.3s;
    display: flex;
    align-items: center;
}
nav ul li a i {
    margin-left: 8px;
}
nav ul li a:hover, nav ul li a.active {
    background: #e50914;
    transform: scale(1.05);
}
.search-box { 
    text-align:center; 
    margin:30px 0; 
}
.search-box input { 
    width:60%; 
    max-width:450px; 
    padding:12px; 
    border-radius:30px; 
    border:none; 
    font-size:16px; 
    outline:none;
    box-shadow:0 2px 8px rgba(0,0,0,0.5);
}
.search-box button { 
    padding:12px 25px; 
    margin-left:10px; 
    border:none; 
    border-radius:30px; 
    background:#e50914; 
    color:white; 
    cursor:pointer; 
    font-size:16px; 
    transition:0.3s;
}
.search-box button:hover { 
    background:#b0060f; 
    transform:scale(1.05);
}
.grid { 
    display:grid; 
    grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); 
    gap:25px; 
    padding:0 20px; 
}
.movie { 
    background:#1e1e1e; 
    border-radius:12px; 
    overflow:hidden; 
    transition: transform 0.3s, box-shadow 0.3s; 
    cursor:pointer; 
    position:relative; 
    display:flex;
    flex-direction: column;
}
.movie img { 
    width:100%; 
    display:block; 
    border-bottom:3px solid #e50914;
    height: 300px;
    object-fit: cover;
}
.movie:hover { 
    transform: scale(1.06); 
    box-shadow:0 10px 20px rgba(0,0,0,0.6);
}
.movie-info { 
    padding:12px; 
    flex-grow: 1;
}
.movie-info h2 { 
    font-size:1.1em; 
    margin:0 0 6px; 
    color:#fff;
    background-color: #ffd70033;
    padding: 5px;
    border-radius: 5px;
}
.movie-info p { 
    font-size:0.9em; 
    color:#bbb; 
    height:40px; 
    overflow:hidden; 
}
.play-btn { 
    position:absolute; 
    top:50%; left:50%; 
    transform:translate(-50%,-50%); 
    background:rgba(0,0,0,0.65); 
    padding:12px 22px; 
    border-radius:50px; 
    font-size:18px; 
    display:none; 
    color:#fff; 
    font-weight:bold;
    backdrop-filter: blur(4px);
}
.movie:hover .play-btn { display:block; }
#videoPage {
    display:none;
    padding: 20px;
}
#videoPage iframe {
    width: 100%;
    max-width: 900px;
    height: 480px;
    border: none;
    border-radius: 12px;
    display: block;
    margin: 0 auto;
}
#videoPage h2 {
    text-align: center;
    margin: 20px 0 10px 0;
    font-size: 1.5em;
    background-color: #ffd70033;
    padding: 10px;
    border-radius: 5px;
}
#videoPage p {
    text-align: center;
    color: #bbb;
    font-size: 1em;
    max-width: 800px;
    margin: 0 auto 10px auto;
}
#videoExtraInfo {
    text-align:center;
    margin:10px auto;
    display:block;
    font-size:1em;
    background:#ffd700;
    color:#000;
    padding:8px 12px;
    border-radius:12px;
    max-width:300px;
    font-weight:bold;
}
#relatedMovies {
    margin-top:20px; 
    text-align:center;
}
#relatedMovies h3 {
    color:#ffd700; 
    margin-bottom:10px;
}
#relatedList a {
    display:inline-block;
    margin:5px;
    padding:5px 10px;
    background:#e50914;
    color:#fff;
    border-radius:12px;
    text-decoration:none;
    font-weight:bold;
    transition:0.3s;
}
#relatedList a:hover {
    background:#b0060f;
}
.categories {
    background-color: #1e1e1e;
    padding: 10px 0;    
    display: flex;
    gap: 10px;
    justify-content: center;
    overflow-x: auto;
    white-space: nowrap;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
}
.categories button {
    background:#e50914;
    color:white;
    border:none;
    padding:8px 15px;
    border-radius:20px;
    cursor:pointer;
    transition:0.3s;
    flex-shrink: 0;
}
.categories button:hover {
    background:#b0060f;
}
footer { 
    text-align:center; 
    padding:25px 0; 
    background:#111; 
    margin-top:40px; 
    color:#aaa; 
    font-size:14px;
}
footer i { color:#e50914; margin:0 8px; }

@media (max-width: 768px) {
    nav ul {
        flex-direction: column;
        align-items: center;
    }
    
    nav ul li {
        margin: 5px 0;
    }
    
    .search-box input {
        width: 70%;
    }
}
</style>
</head>
<body>

<header>
    <h1><i class="fa-solid fa-film"></i> كرتون فور يو <i class="fa-solid fa-film"></i></h1>
    <p>منصة مخصصة لمشاهدة أفلام ومسلسلات الكرتون بجودة عالية، مع إمكانية البحث والعرض المباشر.</p>
</header>

<nav>
    <ul>
        <li><a href="index.html" class="active"><i class="fa-solid fa-house"></i> الرئيسية</a></li>
        <li><a href="about.html"><i class="fa-solid fa-circle-info"></i> من نحن</a></li>
        <li><a href="contact.html"><i class="fa-solid fa-envelope"></i> اتصل بنا</a></li>
        <li><a href="summary.html"><i class="fa-solid fa-list"></i> ملخصات الأفلام</a></li>
    </ul>
</nav>

<div class="categories">
    <button onclick="filterCategory('كونان')">أفلام كونان</button>
    <button onclick="filterCategory('أنمي')">أنمي</button>
    <button onclick="filterCategory('أكشن')">أكشن</button>
    <button onclick="filterCategory('كوميديا')">كوميديا</button>
</div>

<div class="search-box">
    <input type="text" id="searchInput" placeholder="🔍 ابحث عن أي فيلم أو فيديو...">
    <button onclick="search()"><i class="fa-solid fa-magnifying-glass"></i> بحث</button>
</div>

<div id="results" class="grid"></div>

<div id="videoPage">
    <span id="videoExtraInfo"></span>
    <iframe id="videoFrame" src="" allowfullscreen></iframe>
    <h2 id="videoTitle"></h2>
    <p id="videoDescription"></p>
    <div id="relatedMovies">
        <h3>أفلام مشابهة</h3>
        <div id="relatedList"></div>
    </div>
    <button onclick="backToResults()" style="display:block;margin:20px auto;padding:10px 20px;border:none;border-radius:20px;background:#e50914;color:white;font-size:16px;cursor:pointer;">العودة للقائمة</button>
</div>

<footer>
    <p>جميع الحقوق محفوظة © 2025 | كرتون فور يو <i class="fa-solid fa-heart"></i></p>
</footer>

<script>
const searchInput = document.getElementById('searchInput');
const resultsDiv = document.getElementById('results');
const videoPage = document.getElementById('videoPage');
const videoFrame = document.getElementById('videoFrame');
const videoTitle = document.getElementById('videoTitle');
const videoDescription = document.getElementById('videoDescription');
const videoExtraInfo = document.getElementById('videoExtraInfo');

searchInput.addEventListener('keydown', function(event) {
    if(event.key === 'Enter') search();
});

// قائمة الأفلام المسبقة
const preloadedMovies = [
    {id:'detective-conan-movie-27', title:'فيلم 27: نجم المليون دولار', description:'المتحري الصغير سينشي كودو يواجه تحديات جديدة مع جريمة متعلقة بمليون دولار.', img:'https://archive.org/services/img/detective-conan-movie-27', year:'2018', quality:'HD'},
    {id:'25-waifu-2x-1920x-1080', title:'فيلم 25: عروس شيبويا', description:'فيلم مدبلج بالعربية عن قضية غامضة في حي شيبويا.', img:'https://archive.org/services/img/25-waifu-2x-1920x-1080', year:'2020', quality:'HD'},
    {id:'SPGO-260', title:'فيلم 22: Zero the Enforcer', description:'تحقيق كونان في انفجار غامض خلال افتتاح منتجع كبير في طوكيو.', img:'https://archive.org/services/img/SPGO-260', year:'2018', quality:'HD'}
];

// عرض الأفلام المسبقة
function showPreloadedMovies() {
    resultsDiv.innerHTML = '';
    preloadedMovies.forEach(item=>{
        const movieDiv = document.createElement('div');
        movieDiv.className='movie';
        movieDiv.dataset.id = item.id;
        movieDiv.dataset.title = item.title;
        movieDiv.dataset.description = item.description;
        movieDiv.dataset.year = item.year;
        movieDiv.dataset.quality = item.quality;
        movieDiv.innerHTML = `
            <img src="${item.img}" alt="${item.title}">
            <div class="movie-info">
                <h2>${item.title}</h2>
                <p>${item.description}</p>
            </div>
            <div class="play-btn">تشغيل</div>
        `;
        resultsDiv.appendChild(movieDiv);
    });
}
showPreloadedMovies();

// النقر على أي فيلم
resultsDiv.addEventListener('click', function(e){
    const btn = e.target.closest('.play-btn') || e.target.closest('.movie');
    if(btn){
        const movieDiv = e.target.closest('.movie');
        const id = movieDiv.dataset.id;
        const title = movieDiv.dataset.title;
        const description = movieDiv.dataset.description;
        const year = movieDiv.dataset.year;
        const quality = movieDiv.dataset.quality;
        showVideoPage(id, title, description, year, quality);
    }
});

// عرض صفحة الفيديو
function showVideoPage(id, title, description, year, quality){
    resultsDiv.style.display='none';
    document.querySelector('.categories').style.display='none';
    document.querySelector('.search-box').style.display='none';
    videoFrame.src=`https://archive.org/embed/${id}`;
    videoTitle.textContent=title;
    videoDescription.textContent=description;
    videoExtraInfo.textContent=`السنة: ${year || 'غير معروف'} | الجودة: ${quality || 'HD'}`;
    videoPage.style.display='block';
    showRelatedMovies(id); // عرض الأفلام ذات الصلة

    // تحديث الرابط SEO-friendly
    const newUrl=`${window.location.pathname}?id=${encodeURIComponent(id)}`;
    history.pushState({id,title,description},'',newUrl);
}

// العودة للقائمة
function backToResults(){
    videoPage.style.display='none';
    resultsDiv.style.display='grid';
    document.querySelector('.categories').style.display='flex';
    document.querySelector('.search-box').style.display='block';
    videoFrame.src='';
    history.pushState({}, '', window.location.pathname);
}

// عرض الأفلام ذات الصلة
function showRelatedMovies(currentId){
    const relatedList = document.getElementById('relatedList');
    relatedList.innerHTML = '';
    const currentMovie = preloadedMovies.find(m => m.id === currentId);
    if(!currentMovie) return;
    const related = preloadedMovies.filter(m => m.id !== currentId);
    related.forEach(movie => {
        const link = document.createElement('a');
        link.href = '#';
        link.textContent = movie.title;
        link.addEventListener('click', (e)=>{
            e.preventDefault();
            showVideoPage(movie.id, movie.title, movie.description, movie.year, movie.quality);
        });
        relatedList.appendChild(link);
    });
}

// البحث في أرشيف الإنترنت
async function search(query){
    query = query || searchInput.value.trim();
    if(!query) return;
    resultsDiv.style.display='grid';
    resultsDiv.innerHTML='<p>⏳ جارٍ البحث...</p>';
    document.querySelector('.categories').style.display='flex';
    document.querySelector('.search-box').style.display='block';
    try{
        const response = await fetch(`https://archive.org/advancedsearch.php?q=${encodeURIComponent(query)}&fl[]=identifier,title,description&rows=20&page=1&output=json`);
        const data = await response.json();
        const docs = data.response.docs;
        resultsDiv.innerHTML='';
        if(docs.length===0){ resultsDiv.innerHTML='<p>⚠️ لم يتم العثور على نتائج.</p>'; return; }
        docs.forEach(item=>{
            const movieDiv = document.createElement('div');
            movieDiv.className='movie';
            movieDiv.dataset.id=item.identifier;
            movieDiv.dataset.title=item.title || 'بدون عنوان';
            movieDiv.dataset.description=item.description || 'بدون وصف متاح';
            movieDiv.innerHTML=`
                <img src="https://archive.org/services/img/${item.identifier}" alt="${item.title}">
                <div class="movie-info">
                    <h2>${item.title || 'بدون عنوان'}</h2>
                    <p>${item.description || 'بدون وصف متاح'}</p>
                </div>
                <div class="play-btn">تشغيل</div>
            `;
            resultsDiv.appendChild(movieDiv);
        });
    } catch(error){
        resultsDiv.innerHTML='<p>⚠️ حدث خطأ أثناء البحث.</p>';
        console.error(error);
    }
}

// فلترة حسب التصنيف
function filterCategory(category){
    search(category);
}

// تحميل الصفحة مع ?id
window.addEventListener('DOMContentLoaded', ()=>{
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');
    if(id){
        const movie = preloadedMovies.find(m=>m.id===id);
        if(movie){
            showVideoPage(movie.id, movie.title, movie.description, movie.year, movie.quality);
        } else {
            showVideoPage(id,'فيلم غير معروف','');
        }
    }
});
</script>
</body>
</html>
